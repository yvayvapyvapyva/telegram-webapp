// ===== загрузка голосов (только русские) =====
function initVoices(){
    function loadVoices() {
        const voices = speechSynthesis.getVoices();
        const ruVoices = voices.filter(v => v.lang.startsWith('ru')); // только русские
        const select = document.getElementById('voiceSelect');
        select.innerHTML = '';
        ruVoices.forEach(v => {
            const option = document.createElement('option');
            option.value = v.name;
            option.textContent = `${v.name} (${v.lang})`;
            select.appendChild(option);
        });
        // выбрать первый русский голос
        selectedVoice = ruVoices[0] || null;
        if(selectedVoice) select.value = selectedVoice.name;
    }
    loadVoices();
    speechSynthesis.onvoiceschanged = loadVoices;

    document.getElementById('voiceSelect').onchange = () => {
        const name = document.getElementById('voiceSelect').value;
        const voices = speechSynthesis.getVoices();
        selectedVoice = voices.find(v => v.name === name);
    };
}
